var subtaskPopulateApp=subtaskPopulateApp||{};subtaskPopulateApp.$=AJS.$;AJS.toInit(function(){AJS.$("#create-subtask").on("click",subtaskPopulateApp.addButton);AJS.$(document).on("click","#populateBtn",subtaskPopulateApp.addPopUp)});subtaskPopulateApp.myInterval;subtaskPopulateApp.addButton=function(){subtaskPopulateApp.myInterval=setInterval(function(){var a="<button id='populateBtn' class='aui-button'>Select</button>";AJS.$(".aui-toolbar2-secondary").prepend(a);if(AJS.$("button#populateBtn").length!==0){clearInterval(subtaskPopulateApp.myInterval)}},100)};subtaskPopulateApp.valuesArray=[];subtaskPopulateApp.idValueArrayForSoy=[];subtaskPopulateApp.uniqueIDAddition="CopyCheckbox";subtaskPopulateApp.addPopUp=function(){subtaskPopulateApp.valuesArray=[];subtaskPopulateApp.idValueArrayForSoy=[];AJS.$(".form-body .field-group label").map(function(){subtaskPopulateApp.valuesArray.push(AJS.$(this).text())});subtaskPopulateApp.parseLabels();for(var b=0;b<subtaskPopulateApp.valuesArray.length;b++){subtaskPopulateApp.idValueArrayForSoy.push({id:subtaskPopulateApp.valuesArray[b],value:subtaskPopulateApp.parseString(subtaskPopulateApp.valuesArray[b])})}var a=new AJS.Dialog(500,500);var c=CopyDialog.Template.createSubtaskExtenderDialog({fieldsToCopy:subtaskPopulateApp.idValueArrayForSoy,uniqueID:subtaskPopulateApp.uniqueIDAddition});a.addHeader("Subtask's field's filler","aui-dialog2-header");a.addPanel("Panel 1",c,"panel-body");a.addButton("Copy",function(){AJS.$.each(subtaskPopulateApp.idValueArrayForSoy,function(d,e){if(AJS.$("#"+e.value+subtaskPopulateApp.uniqueIDAddition).prop("checked")){console.log("#"+e.value+subtaskPopulateApp.uniqueIDAddition)}});a.remove()},"aui-button aui-button-primary");a.addCancel("Cancel",function(){a.remove()});a.gotoPage(0);a.gotoPanel(0);a.show()};subtaskPopulateApp.parseLabels=function(){subtaskPopulateApp.valuesArray.splice(0,2);for(var a=0;a<subtaskPopulateApp.valuesArray.length;a++){subtaskPopulateApp.valuesArray[a]=subtaskPopulateApp.valuesArray[a].replace("Required","")}subtaskPopulateApp.valuesArray=_.reject(subtaskPopulateApp.valuesArray,function(b){return b.indexOf("Estimate")>=0})};subtaskPopulateApp.parseString=function(a){a=a.replace(" ","");a=a.replace("/","");a=a.toLowerCase();return a};